<!DOCTYPE html>
<html class="fontawesome-i2svg-active fontawesome-i2svg-complete yjfwxcwxf idc0_350" lang="en">
	<head>
		{% load static %}
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
		<link rel="stylesheet" href="{% static 'game/theme/css/styles.css' %}">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
		<script src="{% static 'game/theme/js/scripts.js' %}"></script>
		<title>world.execute(me)</title>
	</head>
	<body>
		<nav id="sideNav" class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
			<ul class="navbar-nav">
				<li class="nav-items">
					<a type="button" class="btn btn-outline-dark" style="margin: 5rem;" href="{% url 'login-signup' %}">Login/Signup</a>
				</li>
			</ul>
		</nav>
		<div class="form-container" style="padding: 5rem;">
			<h2>Score input tester</h2>
			<form id="scoreForm">
				<input type="text" id="scoreInput" placeholder="Enter your score (integer)">
				<input type="submit" value="Submit">
			</form>
		</div>

		<script>
			document.getElementById("scoreForm").addEventListener("submit", function(event)
							{
											event.preventDefault();
											var scoreInput = document.getElementById("scoreInput").value;
											if (/^\d+$/.test(scoreInput))
											{
															// Send the score to Django via AJAX
															var xhr = new XMLHttpRequest();
															xhr.open("POST", "game/save-score/", true);
															xhr.setRequestHeader("Content-Type", "application/json");
															xhr.onreadystatechange = function() 
															{
																			if (xhr.readyState === XMLHttpRequest.DONE) {
																							if (xhr.status === 200) {
																											console.log("Score saved successfully.");
																											// Optionally, display a success message or perform other actions
																										} else {
																														console.error("Failed to save score:", xhr.status);
																														// Optionally, display an error message or perform other actions
																													}
																						}
																		};
															xhr.send(JSON.stringify({score: parseInt(scoreInput)}));
														} else
											{
															alert("Please enter a valid integer score.");
														}
										});
		</script>
	</body>
</html>
